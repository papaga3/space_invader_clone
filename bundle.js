(()=>{"use strict";var t={523:(t,e,r)=>{r.d(e,{A:()=>h});var n=r(354),o=r.n(n),i=r(314),s=r.n(i),a=r(417),u=r.n(a),c=new URL(r(600),r.b),f=s()(o()),l=u()(c);f.push([t.id,`#gameCanvas {\n    border: 5px solid black;\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    translate: -50% -50%;\n    background: url(${l});\n}\n\n.sprite_sheet {\n    display: none;\n}`,"",{version:3,sources:["webpack://./src/index.css"],names:[],mappings:"AAAA;IACI,uBAAuB;IACvB,kBAAkB;IAClB,QAAQ;IACR,SAAS;IACT,oBAAoB;IACpB,mDAAuC;AAC3C;;AAEA;IACI,aAAa;AACjB",sourcesContent:['#gameCanvas {\r\n    border: 5px solid black;\r\n    position: absolute;\r\n    top: 50%;\r\n    left: 50%;\r\n    translate: -50% -50%;\r\n    background: url("asset/background.png");\r\n}\r\n\r\n.sprite_sheet {\r\n    display: none;\r\n}'],sourceRoot:""}]);const h=f},314:t=>{t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var r="",n=void 0!==e[5];return e[4]&&(r+="@supports (".concat(e[4],") {")),e[2]&&(r+="@media ".concat(e[2]," {")),n&&(r+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),r+=t(e),n&&(r+="}"),e[2]&&(r+="}"),e[4]&&(r+="}"),r})).join("")},e.i=function(t,r,n,o,i){"string"==typeof t&&(t=[[null,t,void 0]]);var s={};if(n)for(var a=0;a<this.length;a++){var u=this[a][0];null!=u&&(s[u]=!0)}for(var c=0;c<t.length;c++){var f=[].concat(t[c]);n&&s[f[0]]||(void 0!==i&&(void 0===f[5]||(f[1]="@layer".concat(f[5].length>0?" ".concat(f[5]):""," {").concat(f[1],"}")),f[5]=i),r&&(f[2]?(f[1]="@media ".concat(f[2]," {").concat(f[1],"}"),f[2]=r):f[2]=r),o&&(f[4]?(f[1]="@supports (".concat(f[4],") {").concat(f[1],"}"),f[4]=o):f[4]="".concat(o)),e.push(f))}},e}},417:t=>{t.exports=function(t,e){return e||(e={}),t?(t=String(t.__esModule?t.default:t),/^['"].*['"]$/.test(t)&&(t=t.slice(1,-1)),e.hash&&(t+=e.hash),/["'() \t\n]|(%20)/.test(t)||e.needQuotes?'"'.concat(t.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):t):t}},354:t=>{t.exports=function(t){var e=t[1],r=t[3];if(!r)return e;if("function"==typeof btoa){var n=btoa(unescape(encodeURIComponent(JSON.stringify(r)))),o="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(n),i="/*# ".concat(o," */");return[e].concat([i]).join("\n")}return[e].join("\n")}},72:t=>{var e=[];function r(t){for(var r=-1,n=0;n<e.length;n++)if(e[n].identifier===t){r=n;break}return r}function n(t,n){for(var i={},s=[],a=0;a<t.length;a++){var u=t[a],c=n.base?u[0]+n.base:u[0],f=i[c]||0,l="".concat(c," ").concat(f);i[c]=f+1;var h=r(l),p={css:u[1],media:u[2],sourceMap:u[3],supports:u[4],layer:u[5]};if(-1!==h)e[h].references++,e[h].updater(p);else{var y=o(p,n);n.byIndex=a,e.splice(a,0,{identifier:l,updater:y,references:1})}s.push(l)}return s}function o(t,e){var r=e.domAPI(e);return r.update(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;r.update(t=e)}else r.remove()}}t.exports=function(t,o){var i=n(t=t||[],o=o||{});return function(t){t=t||[];for(var s=0;s<i.length;s++){var a=r(i[s]);e[a].references--}for(var u=n(t,o),c=0;c<i.length;c++){var f=r(i[c]);0===e[f].references&&(e[f].updater(),e.splice(f,1))}i=u}}},659:t=>{var e={};t.exports=function(t,r){var n=function(t){if(void 0===e[t]){var r=document.querySelector(t);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(t){r=null}e[t]=r}return e[t]}(t);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");n.appendChild(r)}},540:t=>{t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},56:(t,e,r)=>{t.exports=function(t){var e=r.nc;e&&t.setAttribute("nonce",e)}},825:t=>{t.exports=function(t){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var e=t.insertStyleElement(t);return{update:function(r){!function(t,e,r){var n="";r.supports&&(n+="@supports (".concat(r.supports,") {")),r.media&&(n+="@media ".concat(r.media," {"));var o=void 0!==r.layer;o&&(n+="@layer".concat(r.layer.length>0?" ".concat(r.layer):""," {")),n+=r.css,o&&(n+="}"),r.media&&(n+="}"),r.supports&&(n+="}");var i=r.sourceMap;i&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleTagTransform(n,t,e.options)}(e,t,r)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}},113:t=>{t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}},600:(t,e,r)=>{t.exports=r.p+"fdff6ccc4c4d28e055ff.png"}},e={};function r(n){var o=e[n];if(void 0!==o)return o.exports;var i=e[n]={id:n,exports:{}};return t[n](i,i.exports,r),i.exports}r.m=t,r.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return r.d(e,{a:e}),e},r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{var t;r.g.importScripts&&(t=r.g.location+"");var e=r.g.document;if(!t&&e&&(e.currentScript&&"SCRIPT"===e.currentScript.tagName.toUpperCase()&&(t=e.currentScript.src),!t)){var n=e.getElementsByTagName("script");if(n.length)for(var o=n.length-1;o>-1&&(!t||!/^http(s?):/.test(t));)t=n[o--].src}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),r.p=t})(),r.b=document.baseURI||self.location.href,r.nc=void 0;var n=r(72),o=r.n(n),i=r(825),s=r.n(i),a=r(659),u=r.n(a),c=r(56),f=r.n(c),l=r(540),h=r.n(l),p=r(113),y=r.n(p),m=r(523),v={};function d(t,e){return t.x<e.x+e.width&&t.x+t.width>e.x&&t.y+t.height>e.y&&t.y<e.y+e.height}function b(t){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},b(t)}function w(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,O(n.key),n)}}function g(t,e,r){return e&&w(t.prototype,e),r&&w(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function O(t){var e=function(t){if("object"!=b(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,"string");if("object"!=b(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==b(e)?e:e+""}v.styleTagTransform=y(),v.setAttributes=f(),v.insert=u().bind(null,"head"),v.domAPI=s(),v.insertStyleElement=h(),o()(m.A,v),m.A&&m.A.locals&&m.A.locals;const j=g((function t(e,r,n,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.width=e,this.height=r,this.x=n,this.y=o}));function P(t){return P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},P(t)}function S(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,x(n.key),n)}}function x(t){var e=function(t){if("object"!=P(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,"string");if("object"!=P(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==P(e)?e:e+""}function k(t,e,r){return e=E(e),function(t,e){if(e&&("object"==P(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,_()?Reflect.construct(e,r||[],E(t).constructor):e.apply(t,r))}function _(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(_=function(){return!!t})()}function E(t){return E=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},E(t)}function R(t,e){return R=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},R(t,e)}const T=function(t){function e(t){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=k(this,e,[200,200,.5*t.width-100,-200])).game=t,r.image=document.getElementById("boss_sprite_sheet"),r.speedX=Math.random()<.5?-1:1,r.speedY=0,r.lives=r.game.waveCount+6,r.maxLives=r.lives,r.markForRemove=!1,r.frameX=0,r.frameY=Math.floor(4*Math.random()),r.maxFrame=11,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&R(t,e)}(e,t),r=e,(n=[{key:"hit",value:function(t){this.lives-=t,this.lives>0&&(this.frameX=1)}},{key:"update",value:function(){var t=this;this.game.spriteUpdate&&this.lives>0&&(this.frameX=0),this.speedY=0,this.y<0&&(this.y+=4),(this.x<0||this.x>this.game.width-this.width&&this.lives>0)&&(this.speedX=-this.speedX,this.speedY=.5*this.height),this.x+=this.speedX,this.y+=this.speedY,this.game.projectilePool.forEach((function(e){d(t,e)&&!e.free&&t.lives>0&&(t.hit(1),e.reset())})),d(this,this.game.player)&&this.lives>0&&(this.game.gameOver=!0,this.lives=0),this.lives<1&&this.game.spriteUpdate&&(this.frameX++,this.frameX>this.maxFrame&&(this.markForRemove=!0,this.game.gameOver||this.game.newWave(),this.game.score+=this.maxLives))}},{key:"render",value:function(t){t.drawImage(this.image,this.frameX*this.height,this.frameY*this.height,this.width,this.height,this.x,this.y,this.width,this.height),this.lives>0&&(t.save(),t.textAlign="center",t.shadowColor="black",t.shadowOffsetX=3,t.shadowOffsetY=3,t.fillText(this.lives.toString(),this.x+.5*this.width,this.y+40),t.restore())}}])&&S(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n}(j);function A(t){return A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},A(t)}function C(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,I(n.key),n)}}function I(t){var e=function(t){if("object"!=A(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,"string");if("object"!=A(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==A(e)?e:e+""}function X(t,e,r){return e=F(e),function(t,e){if(e&&("object"==A(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,B()?Reflect.construct(e,r||[],F(t).constructor):e.apply(t,r))}function B(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(B=function(){return!!t})()}function F(t){return F=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},F(t)}function M(t,e){return M=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},M(t,e)}const L=function(t){function e(t){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=X(this,e,[140,120,.5*t.width-70,t.height-120])).game=t,r.speed=5,r.lives=3,r.maxLives=10,r.basicAtkFired=!1,r.image=document.getElementById("player_sprite_sheet"),r.jets_image=document.getElementById("player_jets"),r.frameX=0,r.jetFrameX=1,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&M(t,e)}(e,t),r=e,(n=[{key:"shoot",value:function(){var t=this.game.getProjectile();t&&t.start(this.x+.5*this.width,this.y)}},{key:"render",value:function(t){this.game.keys.indexOf("q")>-1||this.game.keys.indexOf("Q")>-1?this.frameX=1:this.frameX=0,t.drawImage(this.image,this.frameX*this.width,0,this.width,this.height,this.x,this.y,this.width,this.height),t.drawImage(this.jets_image,this.jetFrameX*this.width,0,this.width,this.height,this.x,this.y,this.width,this.height)}},{key:"update",value:function(){this.game.keys.indexOf("ArrowLeft")>-1?(this.x-=this.speed,this.jetFrameX=0):this.game.keys.indexOf("ArrowRight")>-1?(this.x+=this.speed,this.jetFrameX=2):this.jetFrameX=1,this.x<.5*-this.width?this.x=.5*-this.width:this.x>this.game.width-.5*this.width&&(this.x=this.game.width-.5*this.width)}},{key:"restart",value:function(){this.x=.5*this.game.width-50,this.y=this.game.height-100,this.lives=3}}])&&C(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n}(j);function Y(t){return Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Y(t)}function z(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,U(n.key),n)}}function U(t){var e=function(t){if("object"!=Y(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,"string");if("object"!=Y(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Y(e)?e:e+""}function D(t,e,r){return e=W(e),function(t,e){if(e&&("object"==Y(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,N()?Reflect.construct(e,r||[],W(t).constructor):e.apply(t,r))}function N(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(N=function(){return!!t})()}function W(t){return W=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},W(t)}function Q(t,e){return Q=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Q(t,e)}const q=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=D(this,e,[3,20,0,0])).speed=20,t.free=!0,t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Q(t,e)}(e,t),r=e,(n=[{key:"render",value:function(t){this.free||(t.save(),t.fillStyle="yellow",t.fillRect(this.x,this.y,this.width,this.height),t.restore())}},{key:"update",value:function(){this.free||(this.y-=this.speed,this.y<-this.height&&this.reset())}},{key:"start",value:function(t,e){this.x=t-.5*this.width,this.y=e,this.free=!1}},{key:"reset",value:function(){this.free=!0}}])&&z(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n}(j);function $(t){return $="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$(t)}function H(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,J(n.key),n)}}function J(t){var e=function(t){if("object"!=$(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,"string");if("object"!=$(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==$(e)?e:e+""}function G(t,e,r){return e=V(e),function(t,e){if(e&&("object"==$(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,K()?Reflect.construct(e,r||[],V(t).constructor):e.apply(t,r))}function K(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(K=function(){return!!t})()}function V(t){return V=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},V(t)}function Z(t,e){return Z=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Z(t,e)}const tt=function(t){function e(t,r,n){var o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(o=G(this,e,[t.enemySize,t.enemySize,r*t.enemySize,n*t.enemySize])).game=t,o.wavePosX=r*t.enemySize,o.wavePosY=n*t.enemySize,o.markedForRemove=!1,o.image=void 0,o.lives=0,o.maxFrame=0,o.maxLives=0,o.frameX=0,o.frameY=0,o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Z(t,e)}(e,t),r=e,(n=[{key:"render",value:function(t){t.strokeRect(this.x,this.y,this.width,this.height)}},{key:"hit",value:function(t){this.lives-=t}},{key:"update",value:function(t,e){var r=this;this.x=t+this.wavePosX,this.y=e+this.wavePosY,this.game.projectilePool.forEach((function(t){d(r,t)&&!t.free&&r.lives>0&&(r.hit(1),t.reset())})),this.lives<1&&(this.game.spriteUpdate&&this.frameX++,this.frameX>this.maxFrame&&(this.game.gameOver||(this.game.score+=this.maxLives),this.markedForRemove=!0)),d(this,this.game.player)&&this.lives>0&&(this.lives=0,this.game.player.lives--),(this.y+this.height>this.game.height||this.game.player.lives<1)&&(this.game.gameOver=!0)}}])&&H(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n}(j);function et(t){return et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},et(t)}function rt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,nt(n.key),n)}}function nt(t){var e=function(t){if("object"!=et(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,"string");if("object"!=et(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==et(e)?e:e+""}function ot(t,e,r){return e=at(e),function(t,e){if(e&&("object"==et(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,it()?Reflect.construct(e,r||[],at(t).constructor):e.apply(t,r))}function it(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(it=function(){return!!t})()}function st(){return st="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=at(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},st.apply(null,arguments)}function at(t){return at=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},at(t)}function ut(t,e){return ut=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ut(t,e)}const ct=function(t){function e(t,r,n){var o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(o=ot(this,e,[t,r,n])).image=document.getElementById("beetle_morph_sprite_sheet"),o.frameX=0,o.frameY=Math.floor(4*Math.random()),o.lives=1,o.maxFrame=2,o.maxLives=o.lives,o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ut(t,e)}(e,t),r=e,n=[{key:"render",value:function(t){var r,n,o;void 0===this.image?(r=e,n=this,"function"==typeof(o=st(at(1&3?r.prototype:r),"render",n))?function(t){return o.apply(n,t)}:o)([t]):t.drawImage(this.image,this.frameX*this.width,this.frameY*this.height,this.width,this.height,this.x,this.y,this.width,this.height)}}],n&&rt(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n}(tt);function ft(t){return ft="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ft(t)}function lt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ht(n.key),n)}}function ht(t){var e=function(t){if("object"!=ft(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,"string");if("object"!=ft(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==ft(e)?e:e+""}function pt(t,e,r){return e=vt(e),function(t,e){if(e&&("object"==ft(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,yt()?Reflect.construct(e,r||[],vt(t).constructor):e.apply(t,r))}function yt(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(yt=function(){return!!t})()}function mt(){return mt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=vt(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},mt.apply(null,arguments)}function vt(t){return vt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},vt(t)}function dt(t,e){return dt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},dt(t,e)}const bt=function(t){function e(t,r,n){var o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(o=pt(this,e,[t,r,n])).image=document.getElementById("rhino_morph_sprite_sheet"),o.frameX=0,o.frameY=Math.floor(4*Math.random()),o.lives=4,o.maxFrame=5,o.maxLives=o.lives,o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dt(t,e)}(e,t),r=e,n=[{key:"render",value:function(t){var r,n,o;void 0===this.image?(r=e,n=this,"function"==typeof(o=mt(vt(1&3?r.prototype:r),"render",n))?function(t){return o.apply(n,t)}:o)([t]):t.drawImage(this.image,this.frameX*this.width,this.frameY*this.height,this.width,this.height,this.x,this.y,this.width,this.height)}},{key:"hit",value:function(t){this.lives-=t,this.frameX=this.maxLives-Math.floor(this.lives)}}],n&&lt(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n}(tt);function wt(t){return wt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wt(t)}function gt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Ot(n.key),n)}}function Ot(t){var e=function(t){if("object"!=wt(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,"string");if("object"!=wt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==wt(e)?e:e+""}function jt(t,e,r){return e=St(e),function(t,e){if(e&&("object"==wt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Pt()?Reflect.construct(e,r||[],St(t).constructor):e.apply(t,r))}function Pt(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Pt=function(){return!!t})()}function St(t){return St=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},St(t)}function xt(t,e){return xt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},xt(t,e)}const kt=function(t){function e(t){var r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=t.enemyColunm*t.enemySize;return(r=jt(this,e,[n,t.enemyRow*t.enemySize,.5*(t.width-n),-t.enemyRow*t.enemySize])).game=t,r.speedX=Math.random()<.5?-1:1,r.speedY=0,r.enemies=[],r.createEnemies(),r.triggerNextWave=!1,r.markForRemove=!1,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&xt(t,e)}(e,t),r=e,n=[{key:"createEnemies",value:function(){for(var t=0;t<this.game.enemyRow;t++)for(var e=0;e<this.game.enemyColunm;e++)Math.random()<.3&&this.game.waveCount>2?this.enemies.push(new bt(this.game,e,t)):this.enemies.push(new ct(this.game,e,t))}},{key:"render",value:function(t){this.enemies.forEach((function(e){e.render(t)}))}},{key:"update",value:function(){var t=this;this.y<0&&(this.y+=5),this.x+=this.speedX,(this.x<0||this.x>this.game.width-this.width)&&(this.speedX=-this.speedX,this.y+=this.game.enemySize),this.enemies.forEach((function(e){return e.update(t.x,t.y)})),this.enemies=this.enemies.filter((function(t){return!t.markedForRemove})),this.enemies.length<1&&(this.markForRemove=!0)}}],n&&gt(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n}(j);function _t(t){return _t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_t(t)}function Et(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Rt(n.key),n)}}function Rt(t){var e=function(t){if("object"!=_t(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,"string");if("object"!=_t(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==_t(e)?e:e+""}const Tt=function(){return t=function t(e){var r=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.canvas=e,this.width=e.width,this.height=e.height,this.keys=[],this.player=new L(this),this.projectilePool=[],this.numberOfProjectTiles=15,this.createProjectilePool(),this.enemyColunm=2,this.enemyRow=2,this.enemySize=80,this.waves=[],this.waves.push(new kt(this)),this.bosses=[],this.score=0,this.gameOver=!1,this.waveCount=1,this.spriteUpdate=!1,this.spriteTimer=0,this.spriteInterval=150,window.addEventListener("keydown",(function(t){-1===r.keys.indexOf(t.key)&&r.keys.push(t.key),"q"!==t.key&&"Q"!==t.key||r.player.basicAtkFired||(r.player.shoot(),r.player.basicAtkFired=!0),"r"!==t.key&&"R"!==t.key||!r.gameOver||r.restart()})),window.addEventListener("keyup",(function(t){var e=r.keys.indexOf(t.key);e>-1&&r.keys.splice(e,1),"q"!==t.key&&"Q"!==t.key||(r.player.basicAtkFired=!1)}))},(e=[{key:"createProjectilePool",value:function(){for(var t=0;t<this.numberOfProjectTiles;t++)this.projectilePool.push(new q)}},{key:"getProjectile",value:function(){for(var t=0;t<this.numberOfProjectTiles;t++)if(this.projectilePool[t].free)return this.projectilePool[t]}},{key:"drawStatusText",value:function(t){t.save(),t.fillText("Score: ".concat(this.score),20,40),t.fillText("Wave: ".concat(this.waveCount),20,80);for(var e=0;e<this.player.maxLives;e++)t.strokeRect(20+20*e,100,10,15);for(var r=0;r<this.player.lives;r++)t.fillRect(20+20*r,100,10,15);this.gameOver&&(t.textAlign="center",t.font="100px Impact",t.fillText("Game over",.5*this.width,.5*this.height),t.font="30px Impact",t.fillText("Press R to reload",.5*this.width,.5*this.height+30)),t.restore()}},{key:"newWave",value:function(){this.waveCount++,this.player.lives<this.player.maxLives&&this.player.lives++,this.waveCount%4==0&&this.waveCount>0?this.bosses.push(new T(this)):(Math.random()<.5&&this.enemyColunm*this.enemySize<.8*this.width?this.enemyColunm++:this.enemyRow*this.enemySize<.6*this.height&&this.enemyRow++,this.waves.push(new kt(this)),this.waves=this.waves.filter((function(t){return!t.markForRemove})))}},{key:"update",value:function(){var t=this;this.player.update(),this.projectilePool.forEach((function(t){return t.update()})),this.waves.forEach((function(e){e.update(),0!==e.enemies.length||e.triggerNextWave||t.gameOver||(t.newWave(),e.triggerNextWave=!0)})),this.bosses.forEach((function(t){return t.update()})),this.bosses=this.bosses.filter((function(t){return!t.markForRemove}))}},{key:"render",value:function(t,e){this.spriteTimer>this.spriteInterval?(this.spriteUpdate=!0,this.spriteTimer=0):(this.spriteTimer+=e,this.spriteUpdate=!1),this.drawStatusText(t),this.projectilePool.forEach((function(e){return e.render(t)})),this.player.render(t),this.waves.forEach((function(e){return e.render(t)})),this.bosses.forEach((function(e){return e.render(t)}))}},{key:"restart",value:function(){this.player.restart(),this.enemyColunm=2,this.enemyRow=2,this.waves=[],this.waves.push(new kt(this)),this.bosses=[],this.score=0,this.gameOver=!1,this.waveCount=1}}])&&Et(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}();window.addEventListener("load",(function(){var t=document.getElementById("gameCanvas"),e=t.getContext("2d");t.width=600,t.height=800,e.fillStyle="white",e.strokeStyle="white",e.font="30px Impact";var r=new Tt(t),n=0;!function o(i){var s=i-n;n=i,e.clearRect(0,0,t.width,t.height),r.update(),r.render(e,s),window.requestAnimationFrame(o)}(n)}))})();
//# sourceMappingURL=bundle.js.map