(()=>{"use strict";var e={523:(e,t,r)=>{r.d(t,{A:()=>p});var n=r(354),o=r.n(n),i=r(314),a=r.n(i),s=r(417),c=r.n(s),u=new URL(r(600),r.b),f=a()(o()),l=c()(u);f.push([e.id,`#gameCanvas {\n    border: 5px solid black;\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    translate: -50% -50%;\n    background: url(${l});\n}\n\n.sprite_sheet {\n    display: none;\n}`,"",{version:3,sources:["webpack://./src/index.css"],names:[],mappings:"AAAA;IACI,uBAAuB;IACvB,kBAAkB;IAClB,QAAQ;IACR,SAAS;IACT,oBAAoB;IACpB,mDAAuC;AAC3C;;AAEA;IACI,aAAa;AACjB",sourcesContent:['#gameCanvas {\r\n    border: 5px solid black;\r\n    position: absolute;\r\n    top: 50%;\r\n    left: 50%;\r\n    translate: -50% -50%;\r\n    background: url("asset/background.png");\r\n}\r\n\r\n.sprite_sheet {\r\n    display: none;\r\n}'],sourceRoot:""}]);const p=f},314:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var r="",n=void 0!==t[5];return t[4]&&(r+="@supports (".concat(t[4],") {")),t[2]&&(r+="@media ".concat(t[2]," {")),n&&(r+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),r+=e(t),n&&(r+="}"),t[2]&&(r+="}"),t[4]&&(r+="}"),r})).join("")},t.i=function(e,r,n,o,i){"string"==typeof e&&(e=[[null,e,void 0]]);var a={};if(n)for(var s=0;s<this.length;s++){var c=this[s][0];null!=c&&(a[c]=!0)}for(var u=0;u<e.length;u++){var f=[].concat(e[u]);n&&a[f[0]]||(void 0!==i&&(void 0===f[5]||(f[1]="@layer".concat(f[5].length>0?" ".concat(f[5]):""," {").concat(f[1],"}")),f[5]=i),r&&(f[2]?(f[1]="@media ".concat(f[2]," {").concat(f[1],"}"),f[2]=r):f[2]=r),o&&(f[4]?(f[1]="@supports (".concat(f[4],") {").concat(f[1],"}"),f[4]=o):f[4]="".concat(o)),t.push(f))}},t}},417:e=>{e.exports=function(e,t){return t||(t={}),e?(e=String(e.__esModule?e.default:e),/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),t.hash&&(e+=t.hash),/["'() \t\n]|(%20)/.test(e)||t.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e):e}},354:e=>{e.exports=function(e){var t=e[1],r=e[3];if(!r)return t;if("function"==typeof btoa){var n=btoa(unescape(encodeURIComponent(JSON.stringify(r)))),o="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(n),i="/*# ".concat(o," */");return[t].concat([i]).join("\n")}return[t].join("\n")}},72:e=>{var t=[];function r(e){for(var r=-1,n=0;n<t.length;n++)if(t[n].identifier===e){r=n;break}return r}function n(e,n){for(var i={},a=[],s=0;s<e.length;s++){var c=e[s],u=n.base?c[0]+n.base:c[0],f=i[u]||0,l="".concat(u," ").concat(f);i[u]=f+1;var p=r(l),h={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==p)t[p].references++,t[p].updater(h);else{var y=o(h,n);n.byIndex=s,t.splice(s,0,{identifier:l,updater:y,references:1})}a.push(l)}return a}function o(e,t){var r=t.domAPI(t);return r.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;r.update(e=t)}else r.remove()}}e.exports=function(e,o){var i=n(e=e||[],o=o||{});return function(e){e=e||[];for(var a=0;a<i.length;a++){var s=r(i[a]);t[s].references--}for(var c=n(e,o),u=0;u<i.length;u++){var f=r(i[u]);0===t[f].references&&(t[f].updater(),t.splice(f,1))}i=c}}},659:e=>{var t={};e.exports=function(e,r){var n=function(e){if(void 0===t[e]){var r=document.querySelector(e);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(e){r=null}t[e]=r}return t[e]}(e);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");n.appendChild(r)}},540:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},56:(e,t,r)=>{e.exports=function(e){var t=r.nc;t&&e.setAttribute("nonce",t)}},825:e=>{e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(r){!function(e,t,r){var n="";r.supports&&(n+="@supports (".concat(r.supports,") {")),r.media&&(n+="@media ".concat(r.media," {"));var o=void 0!==r.layer;o&&(n+="@layer".concat(r.layer.length>0?" ".concat(r.layer):""," {")),n+=r.css,o&&(n+="}"),r.media&&(n+="}"),r.supports&&(n+="}");var i=r.sourceMap;i&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),t.styleTagTransform(n,e,t.options)}(t,e,r)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},113:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},600:(e,t,r)=>{e.exports=r.p+"fdff6ccc4c4d28e055ff.png"}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var i=t[n]={id:n,exports:{}};return e[n](i,i.exports,r),i.exports}r.m=e,r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e;r.g.importScripts&&(e=r.g.location+"");var t=r.g.document;if(!e&&t&&(t.currentScript&&"SCRIPT"===t.currentScript.tagName.toUpperCase()&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");if(n.length)for(var o=n.length-1;o>-1&&(!e||!/^http(s?):/.test(e));)e=n[o--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),r.p=e})(),r.b=document.baseURI||self.location.href,r.nc=void 0;var n=r(72),o=r.n(n),i=r(825),a=r.n(i),s=r(659),c=r.n(s),u=r(56),f=r.n(u),l=r(540),p=r.n(l),h=r(113),y=r.n(h),m=r(523),v={};function d(e){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function b(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,g(n.key),n)}}function w(e,t,r){return t&&b(e.prototype,t),r&&b(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function g(e){var t=function(e){if("object"!=d(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=d(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==d(t)?t:t+""}v.styleTagTransform=y(),v.setAttributes=f(),v.insert=c().bind(null,"head"),v.domAPI=a(),v.insertStyleElement=p(),o()(m.A,v),m.A&&m.A.locals&&m.A.locals;const j=w((function e(t,r,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.width=t,this.height=r,this.x=n,this.y=o}));function O(e){return O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},O(e)}function S(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,P(n.key),n)}}function P(e){var t=function(e){if("object"!=O(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=O(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==O(t)?t:t+""}function x(e,t,r){return t=E(t),function(e,t){if(t&&("object"==O(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,k()?Reflect.construct(t,r||[],E(e).constructor):t.apply(e,r))}function k(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(k=function(){return!!e})()}function E(e){return E=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},E(e)}function _(e,t){return _=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},_(e,t)}const A=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=x(this,t,[140,120,.5*e.width-70,e.height-120])).game=e,r.speed=5,r.lives=3,r.maxLives=10,r.basicAtkFired=!1,r.image=document.getElementById("player_sprite_sheet"),r.jets_image=document.getElementById("player_jets"),r.frameX=0,r.jetFrameX=1,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_(e,t)}(t,e),r=t,(n=[{key:"shoot",value:function(){var e=this.game.getProjectile();e&&e.start(this.x+.5*this.width,this.y)}},{key:"render",value:function(e){this.game.keys.indexOf("q")>-1||this.game.keys.indexOf("Q")>-1?this.frameX=1:this.frameX=0,e.drawImage(this.image,this.frameX*this.width,0,this.width,this.height,this.x,this.y,this.width,this.height),e.drawImage(this.jets_image,this.jetFrameX*this.width,0,this.width,this.height,this.x,this.y,this.width,this.height)}},{key:"update",value:function(){this.game.keys.indexOf("ArrowLeft")>-1?(this.x-=this.speed,this.jetFrameX=0):this.game.keys.indexOf("ArrowRight")>-1?(this.x+=this.speed,this.jetFrameX=2):this.jetFrameX=1,this.x<.5*-this.width?this.x=.5*-this.width:this.x>this.game.width-.5*this.width&&(this.x=this.game.width-.5*this.width)}},{key:"restart",value:function(){this.x=.5*this.game.width-50,this.y=this.game.height-100,this.lives=3}}])&&S(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n}(j);function T(e){return T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},T(e)}function R(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,C(n.key),n)}}function C(e){var t=function(e){if("object"!=T(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=T(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==T(t)?t:t+""}function I(e,t,r){return t=X(t),function(e,t){if(t&&("object"==T(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,B()?Reflect.construct(t,r||[],X(e).constructor):t.apply(e,r))}function B(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(B=function(){return!!e})()}function X(e){return X=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},X(e)}function F(e,t){return F=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},F(e,t)}const L=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=I(this,t,[3,20,0,0])).speed=20,e.free=!0,e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&F(e,t)}(t,e),r=t,(n=[{key:"render",value:function(e){this.free||(e.save(),e.fillStyle="yellow",e.fillRect(this.x,this.y,this.width,this.height),e.restore())}},{key:"update",value:function(){this.free||(this.y-=this.speed,this.y<-this.height&&this.reset())}},{key:"start",value:function(e,t){this.x=e-.5*this.width,this.y=t,this.free=!1}},{key:"reset",value:function(){this.free=!0}}])&&R(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n}(j);function M(e,t){return e.x<t.x+t.width&&e.x+e.width>t.x&&e.y+e.height>t.y&&e.y<t.y+t.height}function z(e){return z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},z(e)}function U(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,N(n.key),n)}}function N(e){var t=function(e){if("object"!=z(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=z(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==z(t)?t:t+""}function D(e,t,r){return t=W(t),function(e,t){if(t&&("object"==z(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Q()?Reflect.construct(t,r||[],W(e).constructor):t.apply(e,r))}function Q(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Q=function(){return!!e})()}function W(e){return W=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},W(e)}function Y(e,t){return Y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Y(e,t)}function q(e){return q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},q(e)}function $(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,H(n.key),n)}}function H(e){var t=function(e){if("object"!=q(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=q(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==q(t)?t:t+""}function J(e,t,r){return t=V(t),function(e,t){if(t&&("object"==q(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,G()?Reflect.construct(t,r||[],V(e).constructor):t.apply(e,r))}function G(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(G=function(){return!!e})()}function K(){return K="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=V(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},K.apply(null,arguments)}function V(e){return V=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},V(e)}function Z(e,t){return Z=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Z(e,t)}const ee=function(e){function t(e,r,n){var o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(o=J(this,t,[e,r,n])).image=document.getElementById("beetle_morph_sprite_sheet"),o.frameX=0,o.frameY=Math.floor(4*Math.random()),o.lives=1,o.maxFrame=2,o.maxLives=o.lives,o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Z(e,t)}(t,e),r=t,n=[{key:"render",value:function(e){var r,n,o;void 0===this.image?(r=t,n=this,"function"==typeof(o=K(V(1&3?r.prototype:r),"render",n))?function(e){return o.apply(n,e)}:o)([e]):e.drawImage(this.image,this.frameX*this.width,this.frameY*this.height,this.width,this.height,this.x,this.y,this.width,this.height)}}],n&&$(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n}(function(e){function t(e,r,n){var o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(o=D(this,t,[e.enemySize,e.enemySize,r*e.enemySize,n*e.enemySize])).game=e,o.wavePosX=r*e.enemySize,o.wavePosY=n*e.enemySize,o.markedForRemove=!1,o.image=void 0,o.lives=0,o.maxFrame=0,o.maxLives=0,o.frameX=0,o.frameY=0,o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Y(e,t)}(t,e),r=t,(n=[{key:"render",value:function(e){e.strokeRect(this.x,this.y,this.width,this.height)}},{key:"hit",value:function(e){this.lives-=e}},{key:"update",value:function(e,t){var r=this;this.x=e+this.wavePosX,this.y=t+this.wavePosY,this.game.projectilePool.forEach((function(e){M(r,e)&&!e.free&&r.lives>0&&(r.hit(1),e.reset())})),this.lives<1&&(this.game.spriteUpdate&&this.frameX++,this.frameX>this.maxFrame&&(this.game.gameOver||(this.game.score+=this.maxLives),this.markedForRemove=!0)),M(this,this.game.player)&&this.lives>0&&(this.lives=0,this.game.player.lives--),(this.y+this.height>this.game.height||this.game.player.lives<1)&&(this.game.gameOver=!0)}}])&&U(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n}(j));function te(e){return te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},te(e)}function re(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ne(n.key),n)}}function ne(e){var t=function(e){if("object"!=te(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=te(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==te(t)?t:t+""}function oe(e,t,r){return t=ae(t),function(e,t){if(t&&("object"==te(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,ie()?Reflect.construct(t,r||[],ae(e).constructor):t.apply(e,r))}function ie(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(ie=function(){return!!e})()}function ae(e){return ae=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ae(e)}function se(e,t){return se=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},se(e,t)}const ce=function(e){function t(e){var r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=e.enemyColunm*e.enemySize;return(r=oe(this,t,[n,e.enemyRow*e.enemySize,.5*(e.width-n),-e.enemyRow*e.enemySize])).game=e,r.speedX=Math.random()<.5?-1:1,r.speedY=0,r.enemies=[],r.createEnemies(),r.triggerNextWave=!1,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&se(e,t)}(t,e),r=t,n=[{key:"createEnemies",value:function(){for(var e=0;e<this.game.enemyRow;e++)for(var t=0;t<this.game.enemyColunm;t++)this.enemies.push(new ee(this.game,t,e))}},{key:"render",value:function(e){this.enemies.forEach((function(t){t.render(e)}))}},{key:"update",value:function(){var e=this;this.y<0&&(this.y+=5),this.x+=this.speedX,(this.x<0||this.x>this.game.width-this.width)&&(this.speedX=-this.speedX,this.y+=this.game.enemySize),this.enemies.forEach((function(t){return t.update(e.x,e.y)})),this.enemies=this.enemies.filter((function(e){return!e.markedForRemove}))}}],n&&re(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n}(j);function ue(e){return ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ue(e)}function fe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,le(n.key),n)}}function le(e){var t=function(e){if("object"!=ue(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=ue(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==ue(t)?t:t+""}const pe=function(){return e=function e(t){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.canvas=t,this.width=t.width,this.height=t.height,this.keys=[],this.player=new A(this),this.projectilePool=[],this.numberOfProjectTiles=15,this.createProjectilePool(),this.enemyColunm=2,this.enemyRow=2,this.enemySize=80,this.waves=[],this.waves.push(new ce(this)),this.score=0,this.gameOver=!1,this.waveCount=1,this.spriteUpdate=!1,this.spriteTimer=0,this.spriteInterval=150,window.addEventListener("keydown",(function(e){-1===r.keys.indexOf(e.key)&&r.keys.push(e.key),"q"!==e.key&&"Q"!==e.key||r.player.basicAtkFired||(r.player.shoot(),r.player.basicAtkFired=!0),"r"!==e.key&&"R"!==e.key||!r.gameOver||r.restart()})),window.addEventListener("keyup",(function(e){var t=r.keys.indexOf(e.key);t>-1&&r.keys.splice(t,1),"q"!==e.key&&"Q"!==e.key||(r.player.basicAtkFired=!1)}))},(t=[{key:"createProjectilePool",value:function(){for(var e=0;e<this.numberOfProjectTiles;e++)this.projectilePool.push(new L)}},{key:"getProjectile",value:function(){for(var e=0;e<this.numberOfProjectTiles;e++)if(this.projectilePool[e].free)return this.projectilePool[e]}},{key:"drawStatusText",value:function(e){e.save(),e.fillText("Score: ".concat(this.score),20,40),e.fillText("Wave: ".concat(this.waveCount),20,80);for(var t=0;t<this.player.maxLives;t++)e.strokeRect(20+20*t,100,10,15);for(var r=0;r<this.player.lives;r++)e.fillRect(20+20*r,100,10,15);this.gameOver&&(e.textAlign="center",e.font="100px Impact",e.fillText("Game over",.5*this.width,.5*this.height),e.font="30px Impact",e.fillText("Press R to reload",.5*this.width,.5*this.height+30)),e.restore()}},{key:"newWave",value:function(){Math.random()<.5&&this.enemyColunm*this.enemySize<.8*this.width?this.enemyColunm++:this.enemyRow*this.enemySize<.6*this.height&&this.enemyRow++,this.waves.push(new ce(this))}},{key:"update",value:function(){var e=this;this.player.update(),this.projectilePool.forEach((function(e){return e.update()})),this.waves.forEach((function(t){t.update(),0!==t.enemies.length||t.triggerNextWave||e.gameOver||(e.waveCount++,e.newWave(),t.triggerNextWave=!0,e.player.lives<e.player.maxLives&&e.player.lives++)}))}},{key:"render",value:function(e,t){this.spriteTimer>this.spriteInterval?(this.spriteUpdate=!0,this.spriteTimer=0):(this.spriteTimer+=t,this.spriteUpdate=!1),this.drawStatusText(e),this.projectilePool.forEach((function(t){return t.render(e)})),this.player.render(e),this.waves.forEach((function(t){return t.render(e)}))}},{key:"restart",value:function(){this.player.restart(),this.enemyColunm=2,this.enemyRow=2,this.waves=[],this.waves.push(new ce(this)),this.score=0,this.gameOver=!1,this.waveCount=1}}])&&fe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();window.addEventListener("load",(function(){var e=document.getElementById("gameCanvas"),t=e.getContext("2d");e.width=600,e.height=800,t.fillStyle="white",t.strokeStyle="white",t.font="30px Impact";var r=new pe(e),n=0;!function o(i){var a=i-n;n=i,t.clearRect(0,0,e.width,e.height),r.update(),r.render(t,a),window.requestAnimationFrame(o)}(n)}))})();
//# sourceMappingURL=bundle.js.map